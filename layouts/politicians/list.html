{{ define "main" }}

<h1>Politicians on X/Twitter</h1>

<p>Filter by level and country, and search by name, party, or handle.</p>

<div style="display:flex; flex-wrap:wrap; gap:0.75rem; align-items:flex-end; margin-bottom:1rem;">
  <div>
    <label for="filter-level"><strong>Level</strong></label><br>
    <select id="filter-level">
      <option value="">All levels</option>
      <option value="eu">EU level</option>
      <option value="national">National</option>
    </select>
  </div>

  <div>
    <label for="filter-country"><strong>Country</strong></label><br>
    <select id="filter-country">
      <option value="">All countries</option>
      <!-- options will be filled by JS based on data -->
    </select>
  </div>

  <div style="flex:1; min-width:220px;">
    <label for="politician-search"><strong>Search</strong></label><br>
    <input
      type="search"
      id="politician-search"
      placeholder="e.g. Germany, Greens, @handle, name..."
      style="width:100%; padding:0.35rem;"
    >
  </div>
</div>

<div id="politician-list" class="politician-list"></div>

<script>
  window.POLITICIANS = {{ .Site.Data.politicians | jsonify }};
</script>

{{ $search := resources.Get "js/search.js" | js.Build (dict "format" "iife") | minify }}
<script src="{{ $search.RelPermalink }}" defer></script>


{{ end }}
