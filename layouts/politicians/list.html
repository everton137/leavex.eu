{{ define "main" }}

<header class="page-header prose md:prose-lg prose-headings:mb-2 max-w-none">
  <h1 class="page-title">{{ .Title }}</h1>
  {{ with .Params.description }}
    <p class="page-subtitle">{{ . }}</p>
  {{ end }}
</header>


<p class="lead">
Use the filters below to browse politicians by level and country, or search by name, party, or handle.
Soon youâ€™ll also be able to copy the relevant email list and send a message urging them to leave X/Twitter.
</p>

<div class="politician-filters">
  <div class="filter-field">
    <label for="filter-level" class="filter-label">Level</label>
    <select id="filter-level" class="filter-input">
      <option value="">All levels</option>
      <option value="eu">EU level</option>
      <option value="national">National</option>
    </select>
  </div>

  <div class="filter-field">
    <label for="filter-country" class="filter-label">Country</label>
    <select id="filter-country" class="filter-input">
      <option value="">All countries</option>
      <!-- options filled by JS -->
    </select>
  </div>

  <div class="filter-field filter-field--grow">
    <label for="politician-search" class="filter-label">Search</label>
    <input
      type="search"
      id="politician-search"
      class="filter-input filter-input--search"
      placeholder="e.g. Germany, Greens, @handle, name..."
    >
  </div>
</div>

<div id="politician-list" class="politician-list"></div>

<script>
  window.POLITICIANS = {{ .Site.Data.politicians | jsonify }};
</script>

{{ $search := resources.Get "js/search.js" | js.Build (dict "format" "iife") | minify }}
<script src="{{ $search.RelPermalink }}" defer></script>


{{ end }}
